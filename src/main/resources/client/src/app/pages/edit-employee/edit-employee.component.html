<app-nav-header></app-nav-header>
<div class="p-grid p-nogutter p-p-6 container">
  <div class="p-col-4 p-offset-4">
    <p-card [style]="{'width': '37rem', 'margin-bottom': '2em'}" styleClass="p-card-shadow">
      <form [formGroup]="employeeForm" novalidate>
        <div class="p-fluid">
          <div class="p-field p-grid">
            <label for="name" class="p-col-12 p-mb-2 p-md-2 p-mb-md-0">Name <span [style]="{color: 'red'}">*</span></label>
            <div class="p-col-12 p-md-10">
              <input id="name"
                     class="float-input-invalid"
                     [ngClass]="{'ng-invalid ng-dirty': (submitted && name.invalid) || (name.invalid && (name.dirty || name.touched))}"
                     formControlName="name" type="text"
                     pInputText
              />
            </div>
          </div>
          <div class="p-field p-grid">
            <label for="address" class="p-col-12 p-mb-2 p-md-2 p-mb-md-0">Address <span [style]="{color: 'red'}">*</span></label>
            <div class="p-col-12 p-md-10">
              <input id="address"
                     pTooltip="Enter address"
                     formControlName="address"
                     type="text" pInputText
                     class="float-input-invalid"
                     [ngClass]="{'ng-invalid ng-dirty': (submitted && address.invalid) || (address.invalid && (address.dirty || address.touched))}"
              >
            </div>
          </div>
          <div class="p-field p-grid">
            <label for="phone" class="p-col-12 p-mb-2 p-md-2 p-mb-md-0">Phone</label>
            <div class="p-col-12 p-md-10">
              <input id="phone"
                     pTooltip="Enter phone number"
                     formControlName="phone"
                     type="text"
                     pInputText
              />
            </div>
          </div>
          <div class="p-field p-grid">
            <label for="department" class="p-col-12 p-mb-0 p-md-2 p-mb-md-0">Department <span [style]="{color: 'red'}">*</span></label>
            <div class="p-col-12 p-md-10">
              <p-dropdown
                [styleClass]="!selectedDepartment ? 'float-input-invalid' : undefined" id="department"
                [options]="departments" [(ngModel)]="selectedDepartment"
                [ngModelOptions]="{standalone: true}"
                [ngClass]="{'ng-invalid ng-dirty': (submitted && department.invalid) || (department.invalid && (department.dirty || department.touched))}"
                (onChange)="onDepartmentChange($event.value)"
                optionLabel="description" [filter]="true" filterBy="description"
                          [showClear]="true" placeholder="Select a department">
                <ng-template pTemplate="selectedItem">
                  <ng-template [ngIf]="selectedDepartment">
                    <div>{{selectedDepartment.label}}</div>
                  </ng-template>
                </ng-template>
                <ng-template let-department pTemplate="item">
                  <div>{{department.description}}</div>
                </ng-template>
              </p-dropdown>
            </div>
          </div>
        </div>
      </form>
      <ng-template pTemplate="footer">
        <div class="p-d-flex p-jc-center">
          <p-button label="Save" icon="pi pi-check" type="submit" (onClick)="saveOrUpdate()"></p-button>
          <p-button label="Cancel" icon="pi pi-times" styleClass="p-button-secondary" [style]="{'margin-left': '.5em'}" (onClick)="onCancel()"></p-button>
        </div>
      </ng-template>
    </p-card>

  </div>
</div>
